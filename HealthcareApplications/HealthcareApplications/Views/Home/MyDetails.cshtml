@model HealthcareApplications.Models.UserDetailsViewModel
@using Microsoft.AspNetCore.Http
@using HealthcareApplications.Controllers
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@{
    ViewData["Title"] = "Details";
}

<h1>My Details</h1>

<div>
    <hr />
    @if (HttpContextAccessor.HttpContext.Session.GetString(HomeController.Role) == "Patient")
    {
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.CurrentPatient.Name)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.CurrentPatient.Name)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.CurrentPatient.Pronouns)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.CurrentPatient.Pronouns)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.CurrentPatient.DateOfBirth)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.CurrentPatient.DateOfBirth)
            </dd>
            <dt class="col-sm-2">
                <p>Account Type</p>
            </dt>
            <dd class="col-sm-10">
                <p>Patient</p>
            </dd>
        </dl>
    }
    else
    {
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.CurrentPhysician.Name)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.CurrentPhysician.Name)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.CurrentPhysician.Pronouns)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.CurrentPhysician.Pronouns)
            </dd>
            <dt class="col-sm-2">
                <p>Account Type</p>
            </dt>
            <dd class="col-sm-10">
                <p>Physician</p>
            </dd>
        </dl>
    }
</div>
<div>
    <a asp-action="EditMyDetails" class="btn btn-danger btn-block" style="width: 15%">Edit</a>
    <a asp-action="UserDashBoard" class="btn btn-danger btn-block" style="width: 15%">Back to Dashboard</a>
</div>
